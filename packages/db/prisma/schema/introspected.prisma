model action {
  id            BigInt         @id @default(autoincrement()) @db.UnsignedBigInt
  trigger       String
  command       String?        @db.LongText
  event_id      BigInt         @db.UnsignedBigInt
  controller_id BigInt         @db.UnsignedBigInt
  device_id     BigInt?        @db.UnsignedBigInt
  name          String?
  controller    controller     @relation(fields: [controller_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "action_controller_id_foreign")
  device        device?        @relation(fields: [device_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "action_device_id_foreign")
  event         event          @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "action_event_id_foreign")
  trigger_logs  trigger_logs[]

  @@index([controller_id], map: "action_controller_id_foreign")
  @@index([device_id], map: "action_device_id_foreign")
  @@index([event_id], map: "action_event_id_foreign")
}

model ad {
  id         BigInt     @id @default(autoincrement()) @db.UnsignedBigInt
  location   String
  name       String
  media_url  String?
  url        String?
  sponsor_id Int
  created_at DateTime?  @db.Timestamp(0)
  updated_at DateTime?  @db.Timestamp(0)
  ad_event   ad_event[]
}

model ad_event {
  ad_id    BigInt @db.UnsignedBigInt
  event_id BigInt @db.UnsignedBigInt
  order    Int?
  ad       ad     @relation(fields: [ad_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "ad_event_ad_id_foreign")
  event    event  @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "ad_event_event_id_foreign")

  @@id([ad_id, event_id])
  @@index([ad_id], map: "ad_event_ad_id_index")
  @@index([event_id], map: "ad_event_event_id_index")
}

model ad_kpi {
  id           BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  event_id     BigInt  @db.UnsignedBigInt
  sponsor_name String?
  ad_name      String?
  ad_url       String?
  location     String?
  ad_id        Int?
  platform     String?
  created_at   Int
  updated_at   Int

  @@index([event_id], map: "ad_kpi_event_id_index")
}

model address_list {
  id                 BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  name               String
  date               Int                  @default(1746167167)
  recipients         String?              @db.LongText
  address_list_event address_list_event[]
  address_list_group address_list_group[]
}

model address_list_event {
  event_id        BigInt       @db.UnsignedBigInt
  address_list_id BigInt       @db.UnsignedBigInt
  address_list    address_list @relation(fields: [address_list_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "address_list_event_address_list_id_foreign")
  event           event        @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "address_list_event_event_id_foreign")

  @@id([event_id, address_list_id])
  @@index([address_list_id], map: "address_list_event_address_list_id_foreign")
  @@index([event_id], map: "address_list_event_event_id_foreign")
}

model address_list_group {
  group_id        BigInt       @db.UnsignedBigInt
  address_list_id BigInt       @db.UnsignedBigInt
  address_list    address_list @relation(fields: [address_list_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "address_list_group_address_list_id_foreign")
  group           group        @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "address_list_group_group_id_foreign")

  @@id([group_id, address_list_id])
  @@index([address_list_id], map: "address_list_group_address_list_id_foreign")
  @@index([group_id], map: "address_list_group_group_id_foreign")
}

model cache {
  key        String @unique(map: "cache_key_unique")
  value      String @db.Text
  expiration Int
}

model chatbot {
  id                     BigInt          @id @default(autoincrement()) @db.UnsignedBigInt
  name                   String?
  custom_name            String?
  chatbot_id             String?
  type                   String?
  theme                  String?
  action                 String?
  payload                String?         @db.LongText
  is_qrscan              Boolean         @default(false)
  product_filter_id      String          @default("")
  aggregator_instance_id String          @default("")
  scale                  String          @default("scalefit")
  icon                   String?
  group_id               BigInt          @db.UnsignedBigInt
  style                  String          @default("medium_height")
  checkout               Boolean         @default(false)
  blurred_background     Boolean         @default(false)
  chatbot_event          chatbot_event[]
}

model chatbot_event {
  chatbot_id BigInt  @db.UnsignedBigInt
  event_id   BigInt  @db.UnsignedBigInt
  chatbot    chatbot @relation(fields: [chatbot_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "chatbot_event_chatbot_id_foreign")
  event      event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "chatbot_event_event_id_foreign")

  @@id([chatbot_id, event_id])
  @@index([chatbot_id], map: "chatbot_event_chatbot_id_foreign")
  @@index([event_id], map: "chatbot_event_event_id_foreign")
}

model controller {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name       String
  type       String
  paired     Boolean   @default(false)
  active     Boolean   @default(true)
  group_id   BigInt    @db.UnsignedBigInt
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  action     action[]
  group      group     @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "controller_group_id_foreign")

  @@index([group_id], map: "controller_group_id_foreign")
}

model delete_request {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn     String
  source     String
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model device {
  id              BigInt            @id @default(autoincrement()) @db.UnsignedBigInt
  name            String
  type            String
  active          Boolean
  created_at      Int               @default(1746167167)
  updated_at      Int               @default(1746167167)
  code            String?           @unique(map: "device_code_unique")
  stream_id       BigInt?           @db.UnsignedBigInt
  image           Bytes?
  logo            Bytes?
  category        String?
  running         Boolean           @default(false)
  action          action[]
  stream          stream?           @relation(fields: [stream_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "device_stream_id_foreign")
  device_event    device_event[]
  device_group    device_group[]
  sip             sip[]
  videowall_media videowall_media[]

  @@index([stream_id], map: "device_stream_id_foreign")
}

model device_event {
  device_id BigInt @db.UnsignedBigInt
  event_id  BigInt @db.UnsignedBigInt
  order     Int?
  device    device @relation(fields: [device_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "device_event_device_id_foreign")
  event     event  @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "device_event_event_id_foreign")

  @@id([device_id, event_id])
  @@index([device_id], map: "device_event_device_id_foreign")
  @@index([event_id], map: "device_event_event_id_foreign")
}

model device_group {
  group_id  BigInt @db.UnsignedBigInt
  device_id BigInt @db.UnsignedBigInt
  device    device @relation(fields: [device_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "device_group_device_id_foreign")
  group     group  @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "device_group_group_id_foreign")

  @@id([group_id, device_id])
  @@index([device_id], map: "device_group_device_id_foreign")
  @@index([group_id], map: "device_group_group_id_foreign")
}

model discovery_logs {
  id          BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn      String
  mcc         Int?
  mnc         Int?
  ip          String?
  stream_url  String?
  mobile      Boolean @default(false)
  timestamp   Int     @default(0)
  description String? @db.LongText
  country     String
}

model domain {
  id            BigInt         @id @default(autoincrement()) @db.UnsignedBigInt
  domain        String
  api_key       String?
  assign_to_all Boolean
  created_at    DateTime?      @db.Timestamp(0)
  updated_at    DateTime?      @db.Timestamp(0)
  domain_event  domain_event[]
  domain_group  domain_group[]
}

model domain_event {
  domain_id BigInt @db.UnsignedBigInt
  event_id  BigInt @db.UnsignedBigInt
  domain    domain @relation(fields: [domain_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "domain_event_domain_id_foreign")
  event     event  @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "domain_event_event_id_foreign")

  @@id([domain_id, event_id])
  @@index([domain_id], map: "domain_event_domain_id_index")
  @@index([event_id], map: "domain_event_event_id_index")
}

model domain_group {
  domain_id BigInt @db.UnsignedBigInt
  group_id  BigInt @db.UnsignedBigInt
  domain    domain @relation(fields: [domain_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "domain_group_domain_id_foreign")
  group     group  @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "domain_group_group_id_foreign")

  @@id([domain_id, group_id])
  @@index([domain_id], map: "domain_group_domain_id_index")
  @@index([group_id], map: "domain_group_group_id_index")
}

model email_user {
  id                BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  email             String
  msisdn            String?
  email_verified_at DateTime? @db.Timestamp(0)
  user_id           BigInt?   @db.UnsignedBigInt
  user              user?     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "email_user_user_id_foreign")

  @@index([user_id], map: "email_user_user_id_foreign")
}

model event {
  id                         BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  name                       String
  location                   String?
  location_info              Json?
  owner_id                   Int
  duration                   Int?
  date                       Int?
  active                     Boolean
  capacity                   Int?
  description                String?              @db.LongText
  category                   String?
  is_public                  Boolean              @default(false)
  profanity                  Boolean              @default(true)
  is_5g                      Boolean?
  created_at                 Int                  @default(1746167168) @db.UnsignedInt
  updated_at                 Int                  @default(1746167168) @db.UnsignedInt
  latitude                   Decimal?             @db.Decimal(10, 5)
  longitude                  Decimal?             @db.Decimal(10, 5)
  image_uid                  String?              @db.Char(36)
  promo_video_url            String?
  invitations_only           Boolean
  is_draft                   Boolean              @default(false)
  payed                      Boolean
  image_url                  String?
  brand_image_url            String?
  brand_background_image_url String?
  brand_ad_image_url         String?
  featured                   Boolean?             @default(false)
  hashtags                   String?
  app_allowed                Boolean              @default(true)
  web_allowed                Boolean              @default(false)
  hmd_allowed                Boolean              @default(false)
  shop_bot_id                String               @default("")
  promo_video_aspect_ratio   String?
  promo_video_status         String?
  restream                   Boolean              @default(false)
  short_description          String?              @db.LongText
  featured_date              Int?
  featured_artist            String?              @db.Text
  web_image_url              String?              @db.Text
  group_id                   BigInt               @db.UnsignedBigInt
  action                     action[]
  ad_event                   ad_event[]
  address_list_event         address_list_event[]
  chatbot_event              chatbot_event[]
  device_event               device_event[]
  domain_event               domain_event[]
  group                      group                @relation(fields: [group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "event_group_id_foreign")
  event_blocked              event_blocked[]
  event_flagged              event_flagged[]
  event_interested           event_interested[]
  event_logs                 event_logs[]
  event_opened               event_opened[]
  event_poll                 event_poll[]
  event_registered           event_registered[]
  event_removed              event_removed[]
  event_requests             event_requests[]
  event_simulation           event_simulation[]
  event_stream               event_stream[]
  event_template             event_template[]
  event_user                 event_user[]
  feed                       feed[]
  feedback                   feedback[]
  invite                     invite[]
  media_content              media_content[]
  shopping_feed              shopping_feed[]
  sponsor_event              sponsor_event[]
  trigger_logs               trigger_logs[]

  @@index([group_id], map: "event_group_id_foreign")
}

model event_blocked {
  id       BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  event_id BigInt    @db.UnsignedBigInt
  msisdn   String
  date     DateTime? @db.Timestamp(0)
  event    event     @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_blocked_event_id_foreign")

  @@index([event_id], map: "event_blocked_event_id_index")
}

model event_flagged {
  id       BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  event_id BigInt    @db.UnsignedBigInt
  type     String
  msisdn   String
  flags    Int       @default(0)
  date     DateTime? @db.Timestamp(0)
  event    event     @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_flagged_event_id_foreign")

  @@index([event_id], map: "event_flagged_event_id_index")
}

model event_interested {
  id       BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  event_id BigInt    @db.UnsignedBigInt
  msisdn   String
  date     DateTime? @db.Timestamp(0)
  event    event     @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_interested_event_id_foreign")

  @@index([event_id], map: "event_interested_event_id_index")
}

model event_logs {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  action    String
  info      String? @db.LongText
  date      Int
  event_id  BigInt  @db.UnsignedBigInt
  user_name String?
  event     event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_logs_event_id_foreign")

  @@index([event_id], map: "event_logs_event_id_foreign")
}

model event_opened {
  id       BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  event_id BigInt    @db.UnsignedBigInt
  msisdn   String
  date     DateTime? @db.Timestamp(0)
  event    event     @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_opened_event_id_foreign")

  @@index([event_id], map: "event_opened_event_id_index")
}

model event_poll {
  id         BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  event_id   BigInt @db.UnsignedBigInt
  msisdn     String
  item_voted String
  image_url  String
  bot_id     String
  event      event  @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_poll_event_id_foreign")

  @@index([event_id], map: "event_poll_event_id_foreign")
}

model event_registered {
  id              BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  event_id        BigInt  @db.UnsignedBigInt
  msisdn          String?
  price           Int?
  ticket_level    String?
  ticket_platform String?
  ticket_currency String?
  date            Int?
  description     String? @db.LongText
  status          String?
  event           event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_registered_event_id_foreign")

  @@index([event_id], map: "event_registered_event_id_index")
}

model event_removed {
  id       BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  event_id BigInt    @db.UnsignedBigInt
  msisdn   String
  date     DateTime? @db.Timestamp(0)
  event    event     @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_removed_event_id_foreign")

  @@index([event_id], map: "event_removed_event_id_index")
}

model event_requests {
  id       BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  user_id  BigInt  @db.UnsignedBigInt
  event_id BigInt  @db.UnsignedBigInt
  msisdn   String?
  date     Int?
  status   String? @default("pending")
  event    event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_requests_event_id_foreign")
  user     user    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_requests_user_id_foreign")

  @@index([event_id], map: "event_requests_event_id_index")
  @@index([user_id], map: "event_requests_user_id_index")
}

model event_simulation {
  simulation_id BigInt     @db.UnsignedBigInt
  event_id      BigInt     @db.UnsignedBigInt
  event         event      @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_simulation_event_id_foreign")
  simulation    simulation @relation(fields: [simulation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_simulation_simulation_id_foreign")

  @@id([simulation_id, event_id])
  @@index([event_id], map: "event_simulation_event_id_foreign")
  @@index([simulation_id], map: "event_simulation_simulation_id_foreign")
}

model event_stream {
  stream_id BigInt  @db.UnsignedBigInt
  event_id  BigInt  @db.UnsignedBigInt
  enabled   Boolean @default(true)
  order     Int?
  event     event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_stream_event_id_foreign")
  stream    stream  @relation(fields: [stream_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_stream_stream_id_foreign")

  @@id([stream_id, event_id])
  @@index([event_id], map: "event_stream_event_id_foreign")
  @@index([stream_id], map: "event_stream_stream_id_foreign")
}

model event_template {
  event_id    BigInt   @db.UnsignedBigInt
  template_id BigInt   @db.UnsignedBigInt
  event       event    @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_template_event_id_foreign")
  template    template @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_template_template_id_foreign")

  @@id([event_id, template_id])
  @@index([event_id], map: "event_template_event_id_foreign")
  @@index([template_id], map: "event_template_template_id_foreign")
}

model event_user {
  user_id  BigInt @db.UnsignedBigInt
  event_id BigInt @db.UnsignedBigInt
  event    event  @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_user_event_id_foreign")
  user     user   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "event_user_user_id_foreign")

  @@id([user_id, event_id])
  @@index([event_id], map: "event_user_event_id_foreign")
  @@index([user_id], map: "event_user_user_id_foreign")
}

model failed_jobs {
  id         BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  uuid       String   @unique(map: "failed_jobs_uuid_unique")
  connection String   @db.Text
  queue      String   @db.Text
  payload    String   @db.LongText
  exception  String   @db.LongText
  failed_at  DateTime @default(now()) @db.Timestamp(0)
}

model feed {
  id           BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  name         String
  current_item String?
  event_id     BigInt  @db.UnsignedBigInt
  date         Int?
  event        event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "feed_event_id_foreign")
  item         item[]

  @@index([event_id], map: "feed_event_id_foreign")
}

model feedback {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  survey_id    String
  question     String    @db.LongText
  answer_text  String    @db.LongText
  answer_value String    @db.LongText
  date         Int
  starred      DateTime? @db.Timestamp(0)
  event_id     BigInt?   @db.UnsignedBigInt
  event        event?    @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "feedback_event_id_foreign")

  @@index([event_id], map: "feedback_event_id_foreign")
}

model group {
  id                                 BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  name                               String
  created_at                         Int                  @default(1746167167)
  updated_at                         Int                  @default(1746167167)
  is_public                          Boolean?
  owner_id                           BigInt?              @db.UnsignedBigInt
  image_uid                          String?              @db.Char(36)
  image_url                          String?
  slug                               String?              @unique(map: "group_slug_unique")
  address_list_group                 address_list_group[]
  controller                         controller[]
  device_group                       device_group[]
  domain_group                       domain_group[]
  event                              event[]
  user_group_owner_idTouser          user?                @relation("group_owner_idTouser", fields: [owner_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "group_owner_id_foreign")
  group_stream                       group_stream[]
  group_template                     group_template[]
  group_user                         group_user[]
  media_content                      media_content[]
  pro_publisher                      pro_publisher[]
  roles_user_group                   roles_user_group[]
  sponsor_group                      sponsor_group[]
  user_user_personal_group_idTogroup user[]               @relation("user_personal_group_idTogroup")

  @@index([owner_id], map: "group_owner_id_foreign")
}

model group_stream {
  group_id  BigInt @db.UnsignedBigInt
  stream_id BigInt @db.UnsignedBigInt
  group     group  @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "group_stream_group_id_foreign")
  stream    stream @relation(fields: [stream_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "group_stream_stream_id_foreign")

  @@id([group_id, stream_id])
  @@index([group_id], map: "group_stream_group_id_foreign")
  @@index([stream_id], map: "group_stream_stream_id_foreign")
}

model group_template {
  group_id    BigInt   @db.UnsignedBigInt
  template_id BigInt   @db.UnsignedBigInt
  group       group    @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "group_template_group_id_foreign")
  template    template @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "group_template_template_id_foreign")

  @@id([group_id, template_id])
  @@index([group_id], map: "group_template_group_id_foreign")
  @@index([template_id], map: "group_template_template_id_foreign")
}

model group_user {
  group_id BigInt @db.UnsignedBigInt
  user_id  BigInt @db.UnsignedBigInt
  group    group  @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "group_user_group_id_foreign")
  user     user   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "group_user_user_id_foreign")

  @@id([group_id, user_id])
  @@index([group_id], map: "group_user_group_id_foreign")
  @@index([user_id], map: "group_user_user_id_foreign")
}

model info_content_management {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  file_name  String    @default("")
  title      String
  sub_title  String    @default("")
  type       String
  url        String
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model invite {
  id              BigInt            @id @default(autoincrement()) @db.UnsignedBigInt
  recipient       String
  date            Int               @default(1746167167)
  msgId           String?
  status          String?
  timestamp       String?
  is_rcs          Boolean?
  event_id        BigInt?           @db.UnsignedBigInt
  payed           Boolean           @default(false)
  ticket_type     String?
  type            String?
  log             String?           @db.LongText
  device_info     Bytes?
  category        String            @default("standard")
  event           event?            @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "invite_event_id_foreign")
  invite_template invite_template[]

  @@index([event_id], map: "invite_event_id_foreign")
  @@index([recipient, event_id], map: "invite_recipient_event_id_index")
  @@index([recipient], map: "invite_recipient_index")
}

model invite_template {
  template_id BigInt   @db.UnsignedBigInt
  invite_id   BigInt   @db.UnsignedBigInt
  invite      invite   @relation(fields: [invite_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "invite_template_invite_id_foreign")
  template    template @relation(fields: [template_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "invite_template_template_id_foreign")

  @@id([template_id, invite_id])
  @@index([invite_id], map: "invite_template_invite_id_foreign")
  @@index([template_id], map: "invite_template_template_id_foreign")
}

model item {
  id                     BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  style                  String
  feed_id                BigInt? @db.UnsignedBigInt
  info                   String? @db.LongText
  configurable_type      String?
  configurable_id        BigInt? @db.UnsignedBigInt
  aggregator_instance_id String?
  locked                 Boolean @default(false)
  event_id               BigInt? @db.UnsignedBigInt
  feed                   feed?   @relation(fields: [feed_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "item_feed_id_foreign")

  @@index([configurable_type, configurable_id], map: "item_configurable_type_configurable_id_index")
  @@index([feed_id], map: "item_feed_id_foreign")
}

model item_pollbot {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  pollbot_feed Boolean
  event_id     Int
  style        String
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
}

model jobs {
  id           BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  queue        String
  payload      String @db.LongText
  attempts     Int    @db.UnsignedTinyInt
  reserved_at  Int?   @db.UnsignedInt
  available_at Int    @db.UnsignedInt
  created_at   Int    @db.UnsignedInt

  @@index([queue], map: "jobs_queue_index")
}

model kpi_devices {
  id            BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  device_type   String
  device_status String
  user_id       String
  duration      Int?
  event_id      Int
  date          Int

  @@index([device_status], map: "kpi_devices_device_status_index")
  @@index([device_type], map: "kpi_devices_device_type_index")
  @@index([event_id], map: "kpi_devices_event_id_index")
}

model kpi_emotes_sent {
  id         BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn     String
  event_id   String
  date       Int    @default(0)
  emote      String
  created_at Int    @default(0)
  updated_at Int    @default(0)
  user       user   @relation(fields: [msisdn], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_emotes_sent_msisdn_foreign")

  @@index([msisdn], map: "kpi_emotes_sent_msisdn_foreign")
}

model kpi_event_items_saved {
  id          BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn      String
  items_count Int
  event_id    Int
}

model kpi_message_sent {
  id               BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn           String
  event_id         String
  date             Int              @default(0)
  status           String
  message_id       String
  created_at       Int              @default(0)
  updated_at       Int              @default(0)
  content          String?
  kpi_odience_user kpi_odience_user @relation(fields: [msisdn], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_message_sent_msisdn_foreign")

  @@index([msisdn], map: "kpi_message_sent_msisdn_foreign")
}

model kpi_messages {
  id         BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  message_id String
  status     String?
  sender     String?
  date       Int?
  event_id   Int
}

model kpi_odience_carrier {
  id         BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn     String
  carrier    String
  mcc        Int?
  mnc        Int?
  created_at Int    @default(0)
  updated_at Int    @default(0)
}

model kpi_odience_device {
  id              BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn          String
  odience_version String?
  os_name         String?
  os_version      String?
  device_model    String?
  device_make     String?
  created_at      Int     @default(0)
  updated_at      Int     @default(0)
  device_language String?

  @@index([msisdn], map: "kpi_odience_device_msisdn_index")
}

model kpi_odience_event {
  id               BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  event_id         String
  msisdn           String
  joined_timestamp Int
  left_timestamp   Int
  duration         Int     @default(-1)
  stream_state     String
  device_id        BigInt  @db.UnsignedBigInt
  payment          Int     @default(0)
  location         String
  created_at       Int
  updated_at       Int
  access_type      String?

  @@index([device_id], map: "kpi_odience_event_device_id_foreign")
}

model kpi_odience_user {
  id                                                                                      BigInt                          @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn                                                                                  String                          @unique(map: "kpi_odience_user_msisdn_unique")
  user_hash                                                                               String                          @unique(map: "kpi_odience_user_user_hash_unique")
  created_at                                                                              Int                             @default(0)
  updated_at                                                                              Int                             @default(0)
  kpi_message_sent                                                                        kpi_message_sent[]
  kpi_odience_user_to_user_call_kpi_odience_user_to_user_call_callee_idTokpi_odience_user kpi_odience_user_to_user_call[] @relation("kpi_odience_user_to_user_call_callee_idTokpi_odience_user")
  kpi_odience_user_to_user_call_kpi_odience_user_to_user_call_msisdnTokpi_odience_user    kpi_odience_user_to_user_call[] @relation("kpi_odience_user_to_user_call_msisdnTokpi_odience_user")
  kpi_user_device_interaction                                                             kpi_user_device_interaction[]
  kpi_user_picture_taken                                                                  kpi_user_picture_taken[]
  kpi_user_qr_code_scan                                                                   kpi_user_qr_code_scan[]
}

model kpi_odience_user_to_user_call {
  id                                                                         BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn                                                                     String
  date                                                                       Int
  event_id                                                                   String
  callee_id                                                                  String
  duration                                                                   Int
  type                                                                       String
  created_at                                                                 Int              @default(0)
  updated_at                                                                 Int              @default(0)
  direction                                                                  String?
  kpi_odience_user_kpi_odience_user_to_user_call_callee_idTokpi_odience_user kpi_odience_user @relation("kpi_odience_user_to_user_call_callee_idTokpi_odience_user", fields: [callee_id], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_odience_user_to_user_call_callee_id_foreign")
  kpi_odience_user_kpi_odience_user_to_user_call_msisdnTokpi_odience_user    kpi_odience_user @relation("kpi_odience_user_to_user_call_msisdnTokpi_odience_user", fields: [msisdn], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_odience_user_to_user_call_msisdn_foreign")

  @@index([callee_id], map: "kpi_odience_user_to_user_call_callee_id_foreign")
  @@index([msisdn], map: "kpi_odience_user_to_user_call_msisdn_foreign")
}

model kpi_purchases {
  id           BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn       String
  chatbot_id   String
  chatbot_name String
  event_id     Int
  quantity     Int
  total_price  Float
}

model kpi_questions_sent {
  id          BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn      String
  event_id    String
  date        Int    @default(0)
  type        String
  question_id String
  created_at  Int    @default(0)
  updated_at  Int    @default(0)
  user        user   @relation(fields: [msisdn], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_questions_sent_msisdn_foreign")

  @@index([msisdn], map: "kpi_questions_sent_msisdn_foreign")
}

model kpi_user_device_interaction {
  id               BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn           String
  event_id         String
  date             Int              @default(0)
  duration         Int              @default(0)
  device_type      String?
  device_status    String?
  created_at       Int              @default(0)
  updated_at       Int              @default(0)
  kpi_odience_user kpi_odience_user @relation(fields: [msisdn], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_user_device_interaction_msisdn_foreign")

  @@index([msisdn], map: "kpi_user_device_interaction_msisdn_foreign")
}

model kpi_user_picture_taken {
  id               BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn           String
  event_id         String
  date             Int              @default(0)
  camera_x         Float            @default(0.00)
  camera_y         Float            @default(0.00)
  camera_zoom      Float            @default(1.00)
  time_in_event    Int              @default(0)
  created_at       Int              @default(0)
  updated_at       Int              @default(0)
  kpi_odience_user kpi_odience_user @relation(fields: [msisdn], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_user_picture_taken_msisdn_foreign")

  @@index([msisdn], map: "kpi_user_picture_taken_msisdn_foreign")
}

model kpi_user_qr_code_scan {
  id               BigInt           @id @default(autoincrement()) @db.UnsignedBigInt
  msisdn           String
  event_id         String
  date             Int              @default(0)
  created_at       Int              @default(0)
  updated_at       Int              @default(0)
  kpi_odience_user kpi_odience_user @relation(fields: [msisdn], references: [msisdn], onDelete: NoAction, onUpdate: NoAction, map: "kpi_user_qr_code_scan_msisdn_foreign")

  @@index([msisdn], map: "kpi_user_qr_code_scan_msisdn_foreign")
}

model kpi_user_shared_event {
  id       BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  date     Int
  type     String @default("opened")
  event_id String
}

model kpi_user_to_user_call {
  id        BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  user_id   String
  callee_id String
  type      String
  date      Int
  duration  Int
  event_id  BigInt
}

model kpi_users {
  id           BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  user_id      String
  location     String?
  event_id     Int
  duration     BigInt?
  os_name      String?
  os_version   String?
  device_model String?
  date         Int     @default(1746167170)
}

model kpi_users_pictures_taken {
  id       BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  user_id  String
  event_id Int
  date     Int    @default(1746167170)
}

model kpi_users_qr_code_scanned {
  id       BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  user_id  String
  event_id Int
  date     Int
}

model location {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  latitude  Decimal @db.Decimal(10, 8)
  longitude Decimal @db.Decimal(10, 8)
  country   String?
  region    String?
  city      String?
  address   String?
}

model mcc_mnc {
  id           BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  mcc          Int
  mnc          Int
  iso          String
  country      String?
  country_code String?
  network      String?
  rules        String? @db.LongText
  date         String?
}

model media_content {
  id          BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  slot        Int
  media_type  String?
  name        String?
  media_url   String?
  preview_url String?
  event_id    BigInt  @db.UnsignedBigInt
  group_id    BigInt  @db.UnsignedBigInt
  date        String?
  event       event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "media_content_event_id_foreign")
  group       group   @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "media_content_group_id_foreign")

  @@index([event_id], map: "media_content_event_id_foreign")
  @@index([group_id], map: "media_content_group_id_foreign")
}

model migrations {
  id        Int    @id @default(autoincrement()) @db.UnsignedInt
  migration String
  batch     Int
}

model model_has_permission {
  permission_id BigInt     @db.UnsignedBigInt
  model_type    String
  model_id      BigInt     @db.UnsignedBigInt
  permission    permission @relation(fields: [permission_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "model_has_permission_permission_id_foreign")

  @@id([permission_id, model_id, model_type])
  @@index([model_id, model_type], map: "model_has_permission_model_id_model_type_index")
}

model model_has_role {
  role_id    BigInt @db.UnsignedBigInt
  model_type String
  model_id   BigInt @db.UnsignedBigInt
  role       role   @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "model_has_role_role_id_foreign")

  @@id([role_id, model_id, model_type])
  @@index([model_id, model_type], map: "model_has_role_model_id_model_type_index")
}

model model_logs {
  id       BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  user_id  BigInt  @db.UnsignedBigInt
  model_id BigInt? @db.UnsignedBigInt
  ip       String?
  action   String?
  model    String?
  date     Int?
  info     String
  user     user    @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "model_logs_user_id_foreign")

  @@index([model_id], map: "model_logs_model_id_index")
  @@index([user_id], map: "model_logs_user_id_index")
}

model oauth_access_tokens {
  id         String    @id @db.VarChar(100)
  user_id    BigInt?   @db.UnsignedBigInt
  client_id  String    @db.Char(36)
  name       String?
  scopes     String?   @db.Text
  revoked    Boolean
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
  expires_at DateTime? @db.DateTime(0)

  @@index([user_id], map: "oauth_access_tokens_user_id_index")
}

model oauth_auth_codes {
  id         String    @id @db.VarChar(100)
  user_id    BigInt    @db.UnsignedBigInt
  client_id  String    @db.Char(36)
  scopes     String?   @db.Text
  revoked    Boolean
  expires_at DateTime? @db.DateTime(0)

  @@index([user_id], map: "oauth_auth_codes_user_id_index")
}

model oauth_clients {
  id                     String    @id @db.Char(36)
  user_id                BigInt?   @db.UnsignedBigInt
  name                   String
  secret                 String?   @db.VarChar(100)
  provider               String?
  redirect               String    @db.Text
  personal_access_client Boolean
  password_client        Boolean
  revoked                Boolean
  created_at             DateTime? @db.Timestamp(0)
  updated_at             DateTime? @db.Timestamp(0)

  @@index([user_id], map: "oauth_clients_user_id_index")
}

model oauth_personal_access_clients {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  client_id  String    @db.Char(36)
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model oauth_refresh_tokens {
  id              String    @id @db.VarChar(100)
  access_token_id String    @db.VarChar(100)
  revoked         Boolean
  expires_at      DateTime? @db.DateTime(0)
}

model password_resets {
  email      String
  token      String
  created_at DateTime? @db.Timestamp(0)

  @@unique([token])
  @@index([email], map: "password_resets_email_index")
}

model permission {
  id                   BigInt                 @id @default(autoincrement()) @db.UnsignedBigInt
  name                 String
  guard_name           String
  created_at           DateTime?              @db.Timestamp(0)
  updated_at           DateTime?              @db.Timestamp(0)
  model_has_permission model_has_permission[]
  role_has_permission  role_has_permission[]

  @@index([name], map: "permission_name_index")
}

model pro_publisher {
  id          BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  serial      String
  uid         String
  device_name String?
  code        Int?
  name        String?
  otp         String? @db.LongText
  password    String?
  registered  Boolean @default(false)
  group_id    BigInt? @db.UnsignedBigInt
  running     Boolean @default(false)
  group       group?  @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "pro_publisher_group_id_foreign")

  @@index([group_id], map: "pro_publisher_group_id_foreign")
}

model publisher {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  publisher_id String    @unique(map: "publisher_publisher_id_unique")
  name         String?
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
  status       String    @default("requested")
  token        String?
  user_id      String?
}

model qr_code {
  id                BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  type              String
  configurable_type String?
  configurable_id   BigInt? @db.UnsignedBigInt
  url               String? @db.LongText

  @@index([configurable_type, configurable_id], map: "qr_code_configurable_type_configurable_id_index")
}

model role {
  id                  BigInt                @id @default(autoincrement()) @db.UnsignedBigInt
  name                String
  guard_name          String
  created_at          DateTime?             @db.Timestamp(0)
  updated_at          DateTime?             @db.Timestamp(0)
  model_has_role      model_has_role[]
  role_has_permission role_has_permission[]

  @@index([name], map: "role_name_index")
}

model role_has_permission {
  permission_id BigInt     @db.UnsignedBigInt
  role_id       BigInt     @db.UnsignedBigInt
  permission    permission @relation(fields: [permission_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "role_has_permission_permission_id_foreign")
  role          role       @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "role_has_permission_role_id_foreign")

  @@id([permission_id, role_id])
  @@index([permission_id], map: "role_has_permission_permission_id_index")
  @@index([role_id], map: "role_has_permission_role_id_foreign")
}

model roles {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  name             String             @unique(map: "roles_name_unique")
  roles_user_group roles_user_group[]
}

/// Explicit many-to-many relation between users, roles, and groups/organizations
model roles_user_group {
  role_id  BigInt  @db.UnsignedBigInt
  group_id BigInt? @db.UnsignedBigInt
  user_id  BigInt  @db.UnsignedBigInt
  group    group?  @relation(fields: [group_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "roles_user_group_group_id_foreign")
  roles    roles   @relation(fields: [role_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "roles_user_group_role_id_foreign")
  user     user    @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "roles_user_group_user_id_foreign")

  @@unique([role_id, user_id])
  @@index([group_id], map: "roles_user_group_group_id_foreign")
  @@index([role_id], map: "roles_user_group_role_id_foreign")
  @@index([user_id], map: "roles_user_group_user_id_foreign")
}

model session_logs {
  id       BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  user_id  BigInt  @db.UnsignedBigInt
  ip       String?
  platform String?
  date     Int?
  location String?
  user     user    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "session_logs_user_id_foreign")

  @@index([user_id], map: "session_logs_user_id_index")
}

model setting {
  id                BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  key               String
  value             String? @db.LongText
  configurable_type String?
  configurable_id   BigInt? @db.UnsignedBigInt

  @@index([configurable_type, configurable_id], map: "setting_configurable_type_configurable_id_index")
  @@index([key], map: "setting_key_index")
  @@index([configurable_id], map: "setting_configurable_id_index")
  @@index([key, configurable_id], map: "setting_key_configurable_id_index")
}

model shopping_feed {
  id                   BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  created_at           DateTime? @db.Timestamp(0)
  updated_at           DateTime? @db.Timestamp(0)
  url                  String
  type                 String?
  categories           String?   @db.LongText
  raw_xml_compressed   Boolean
  event_xml_compressed Boolean
  event_id             BigInt    @db.UnsignedBigInt
  raw_xml              Bytes?
  event_xml            Bytes?
  poll                 Boolean   @default(false)
  event                event     @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "shopping_feed_event_id_foreign")

  @@index([event_id], map: "shopping_feed_event_id_foreign")
}

model short_url {
  id     BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  url    String @db.LongText
  expiry Int
  key    String
  date   Int    @default(1746167170)
}

model simulation {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  url              String             @unique(map: "simulation_url_unique")
  name             String
  image_url        String?
  created_at       DateTime?          @db.Timestamp(0)
  updated_at       DateTime?          @db.Timestamp(0)
  web_settings     String?            @db.LongText
  event_simulation event_simulation[]
}

model sip {
  id         BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  device_id  BigInt  @db.UnsignedBigInt
  sip        String
  subscribed Boolean
  password   String? @db.LongText
  message    String? @db.LongText
  device     device  @relation(fields: [device_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "sip_device_id_foreign")

  @@index([device_id], map: "sip_device_id_foreign")
}

model sponsor {
  id            BigInt          @id @default(autoincrement()) @db.UnsignedBigInt
  name          String
  type          String
  status        String
  settings      String?         @db.LongText
  assign_to_all Boolean
  created_at    DateTime?       @db.Timestamp(0)
  updated_at    DateTime?       @db.Timestamp(0)
  image_url     String?         @db.Text
  sponsor_event sponsor_event[]
  sponsor_group sponsor_group[]
}

model sponsor_event {
  sponsor_id BigInt  @db.UnsignedBigInt
  event_id   BigInt  @db.UnsignedBigInt
  event      event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "sponsor_event_event_id_foreign")
  sponsor    sponsor @relation(fields: [sponsor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "sponsor_event_sponsor_id_foreign")

  @@id([sponsor_id, event_id])
  @@index([event_id], map: "sponsor_event_event_id_index")
  @@index([sponsor_id], map: "sponsor_event_sponsor_id_index")
}

model sponsor_group {
  sponsor_id BigInt  @db.UnsignedBigInt
  group_id   BigInt  @db.UnsignedBigInt
  group      group   @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "sponsor_group_group_id_foreign")
  sponsor    sponsor @relation(fields: [sponsor_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "sponsor_group_sponsor_id_foreign")

  @@id([sponsor_id, group_id])
  @@index([group_id], map: "sponsor_group_group_id_index")
  @@index([sponsor_id], map: "sponsor_group_sponsor_id_index")
}

model stream {
  id                 BigInt         @id @default(autoincrement()) @db.UnsignedBigInt
  name               String
  is_equirectangular Boolean
  is_stereo          Boolean
  saturation_mod     Float
  gamma_mod          Float
  active             Boolean
  rotation           Float?
  is_360             Boolean        @default(true)
  type               String         @default("standard")
  pre_stream         String?
  format             String?
  created_at         DateTime?      @db.Timestamp(0)
  updated_at         DateTime?      @db.Timestamp(0)
  preview_url        String?
  video_length       Int            @default(0)
  recorded_type      Int            @default(0)
  status             String?
  loop               Boolean
  stream_url_preview String?        @db.LongText
  code               String?        @unique(map: "stream_code_unique")
  chatbot_id         String?
  chatbot_payload    String?        @db.LongText
  zones              String?        @db.LongText
  access_type        String         @default("default")
  propublisher_uid   String?
  video_format       String
  mobile             Boolean
  vertical_rotation  Float?
  device             device[]
  event_stream       event_stream[]
  group_stream       group_stream[]
  stream_url         stream_url[]
}

model stream_url {
  id           BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  url          String
  resolution   String
  stream_id    BigInt  @db.UnsignedBigInt
  is_running   Boolean @default(true)
  status       String? @db.LongText
  download_url String?
  stream       stream  @relation(fields: [stream_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stream_url_stream_id_foreign")

  @@index([stream_id], map: "stream_url_stream_id_foreign")
}

model stream_url_token {
  id       BigInt @id @default(autoincrement()) @db.UnsignedBigInt
  url      String
  user_id  BigInt @db.UnsignedBigInt
  date     BigInt
  duration Int?
  token    String
  user     user   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stream_url_token_user_id_foreign")

  @@index([user_id], map: "stream_url_token_user_id_index")
}

model template {
  id              BigInt            @id @default(autoincrement()) @db.UnsignedBigInt
  name            String
  message         String?
  date            Int               @default(1746167167)
  image           Bytes?
  event_template  event_template[]
  group_template  group_template[]
  invite_template invite_template[]
}

model trigger_logs {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  trigger   String
  status    String
  response  String? @db.LongText
  user      String? @db.LongText
  date      Int
  event_id  BigInt  @db.UnsignedBigInt
  action_id BigInt? @db.UnsignedBigInt
  action    action? @relation(fields: [action_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "trigger_logs_action_id_foreign")
  event     event   @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "trigger_logs_event_id_foreign")

  @@index([action_id], map: "trigger_logs_action_id_foreign")
  @@index([event_id], map: "trigger_logs_event_id_foreign")
}

model users_blocked_by_users {
  id      BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id BigInt    @db.UnsignedBigInt
  blocked String
  date    DateTime? @db.Timestamp(0)
  user    user      @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_blocked_by_users_user_id_foreign")

  @@index([user_id], map: "users_blocked_by_users_user_id_index")
}

model users_reported_by_users {
  id       BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id  BigInt    @db.UnsignedBigInt
  reported String
  date     DateTime? @db.Timestamp(0)
  event_id Int?
  reason   String?   @db.Text
  user     user      @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_reported_by_users_user_id_foreign")

  @@index([user_id], map: "users_reported_by_users_user_id_index")
}

model videowall_media {
  id            BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  device_id     BigInt  @db.UnsignedBigInt
  image_url     String
  item_group_id String?
  image_fit     String
  column        String
  rotation      Int     @default(0)
  media_type    String  @default("image")
  device        device  @relation(fields: [device_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "videowall_media_device_id_foreign")

  @@index([device_id], map: "videowall_media_device_id_foreign")
}

model websockets_statistics_entries {
  id                       Int       @id @default(autoincrement()) @db.UnsignedInt
  app_id                   String
  peak_connections_count   Int
  websocket_messages_count Int
  api_messages_count       Int
  created_at               DateTime? @db.Timestamp(0)
  updated_at               DateTime? @db.Timestamp(0)
}
